---
description: 
globs: 
alwaysApply: true
---
# Questions processing
1. Question line
- Must start with ### .
- Must end with one of #easy | #medium | #hard.
2. Answer marker
- The line immediately after the heading must be exactly ?.
3. Canonical answer
- Starts after ?.
- May span any Markdown until rule 4 or 5 triggers.
4. Candidate block (optional)
- Begins with a blockquote line > @candidate.
- All consecutive lines starting with > belong to the block.
- Ends at the first blank line without > or at the next ### heading.
5. Next card / EOF terminates the current card.
6. Only one candidate block per card.
If absent the plugin will create it when an answer is recorded.
7. Leave one blank line between the candidate block (if present) and the next ### heading.

# Question example
```markdown
### What is Git and why is it used? #easy
?
Git is a free and open-source **distributed** VCS that tracks changes, supports branching and merging.

> @candidate
> Mixed Git with GitHub, missed “distributed”.
```

- Heading ### … #easy|#medium|#hard
- Line ? → start of canonical answer.
- Empty line optional after answer.
- Candidate block starts with > @candidate.
All following lines that begin with > belong to that block.
Block ends at the first non-blockquote blank line or the next ###.

# Plugin logic
1. Detect card via heading regex
`/^###\s+(.+?)\s+#(easy|medium|hard)\s*$/i`
2. Read until ? → store canonical answer.
3. If > @candidate found → capture subsequent > lines as candidate answer.
4. Editing:
- If block exists, replace its lines.
- If not, insert
```
> @candidate
> <new lines>
```
right after canonical answer.